<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="CSS/banner.css">
    <link rel="stylesheet" href="CSS/all_file.css">

    

    <style>
    
    .head-nav {

        display:flex;
        flex-direction: column;  
        
    }
    .head-nav-2 {

        z-index: 9999;
    }
    .display-image {

        
        margin-left:80px;
        margin-right:80px;
        
        justify-content: center;

    }


        
    .header-fix {
        position:fixed;
      
        top: 0;
        left: 0;
        width: 100%;  
        
        }




    @media (max-width: 600px) {
    .display-image {
        margin-left:0;
        margin-right:0;

    }
    }

    @media (max-width: 600px) {
    .content-body {
        margin-left:0;
        margin-right:0;

    }
    }

    


    </style>


</head>






<body>

        <header id="header" class="header-fix">

        
        <div class="head-nav">
            <!-- Placeholder for the nav -->
            <div id="nav-placeholder" class="head-nav-2"></div>


            <script>
            function showSidebar() {
            const sidebar = document.querySelector('.sidebar')
            sidebar.style.display = 'flex'

            }
            </script>

            <script>
            function hideSidebar() {
            const sidebar = document.querySelector('.sidebar')
            sidebar.style.display = 'none'

            }
            </script>

            <!-- Placeholder for the head -->
            <div id="header-placeholder" class="display-image"></div>


            <script>
            // Load both nav and head content, then adjust padding
            Promise.all([
                fetch('head_nav_footer/nav.html').then(res => res.text()),
                fetch('head_nav_footer/banner.html').then(res => res.text())
            ]).then(([navHtml, bannerHtml]) => {
            // Insert nav
            document.getElementById('nav-placeholder').innerHTML = navHtml;

            // Parse the banner HTML string into a DOM document
            const parser = new DOMParser();
            const doc = parser.parseFromString(bannerHtml, 'text/html');

            // Extract content inside the banner's body tag ONLY
            const bannerBodyContent = doc.body.innerHTML;

            // Insert into your placeholder
            document.getElementById('header-placeholder').innerHTML = bannerBodyContent;

            // Setup nav buttons if any
            setupNavButtons();

            // Setup banner slideshow and buttons
            setupBanner();

            // Adjust article padding or other page layout adjustments

            


            adjustArticlePadding();
            });


            
            </script>




        </div>


        </header>


        <article id="article">
        <div id="content" class="content-body">

        </div>

        </article>

        <script>
        function adjustArticlePadding() {
            const header = document.getElementById('header');
            const article = document.getElementById('article');

            // Wait for a tick to ensure dynamic content is rendered
            setTimeout(() => {
                const headerHeight = header.offsetHeight;
                article.style.paddingTop = `${headerHeight}px`;
            }, 0);
        }

        window.addEventListener('resize', adjustArticlePadding);
        </script>



        <!-- Placeholder for the footer -->
        <div id="footer-placeholder"></div>

        <script>
         // Load footer
        fetch('head_nav_footer/footer.html')
            .then(response => response.text())
            .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        });
        </script>


        <script>
        function setupNavButtons() {
          const buttons = document.querySelectorAll('nav button');
          buttons.forEach(button => {
            button.addEventListener('click', () => {
            const page = button.getAttribute('data-page');
            loadPageContent(page);
            });
          });
        }

        


        function loadPageContent(pageUrl) {
            fetch(pageUrl)
            .then(response => response.text())
            .then(data => {
            // Update content area
                document.getElementById('content').innerHTML = data;

            // Extract and update document title
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = data;

                const newTitleTag = tempDiv.querySelector('title');
                if (newTitleTag) {
                    document.title = newTitleTag.textContent;
                } else {
                // Optional: fallback to default title
                    document.title = 'My Website';
                }

            // Scroll to top
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        })
            .catch(error => console.error('Error loading content:', error));
        }


        window.addEventListener('DOMContentLoaded', () => {
        // Load home.html as the default page content
            loadPageContent('Pages/home.html');
        });


    </script>


    <script>
    function setupBanner() {
    let currentSlide = 0;
    const slides = document.querySelectorAll('.banner-slide');
    const indicators = document.querySelectorAll('.indicator');
    const totalSlides = slides.length;

    function updateSlide() {
        slides.forEach((slide, index) => {
            slide.style.transform = `translateX(${100 * (index - currentSlide)}%)`;
        });

        indicators.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentSlide);
        });
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateSlide();
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateSlide();
    }

    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            currentSlide = index;
            updateSlide();
        });
    });

    document.querySelector('.arrow-left').addEventListener('click', prevSlide);
    document.querySelector('.arrow-right').addEventListener('click', nextSlide);

    let autoPlayInterval = setInterval(nextSlide, 5000);

    const bannerContainer = document.querySelector('.banner-container');
    bannerContainer.addEventListener('mouseenter', () => {
        clearInterval(autoPlayInterval);
    });

    bannerContainer.addEventListener('mouseleave', () => {
        autoPlayInterval = setInterval(nextSlide, 5000);
    });

    updateSlide();
    }

    
    </script>




        

    </body>


</html>
